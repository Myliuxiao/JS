### 数组中的常用方法以及剖析

数组也是对象数据类型（引用类型），同时也是有键值对组成的

 ```javascript
 var ary = [12,23,14];
 /**
 结构：0:12
   	 1:23
 	 2:14
 	 length：3
 	 
 	 1.以数组作为索引（属性名），索引从零开始递增
 	 2.有一个length属性存储的事数组长度
 **/
 ```
#### 数组中每一项的值可以是任何数据类型

```javascript
//多维数组
var ary = [
    {
        name:"jocek",
        age:15
    }
    
]
```

#### 记忆数组的方法

按照四个维度记忆

- 方法的作用
- 方法的参数
- 方法的返回值
- 原有数组是否改变

#### 数组中的增删改操作

**`push`**
> 作用：向数组"末尾"追加新的内容
> 参数：追加的内容（可以是一个，也可以是多个）
> 返回值：新增后数组的长度（就是输出length值）
> 原有数组改变

**`pop`**
> 作用：删除数组的最后一项 
> 参数：无
> 返回值：被删除的那一项内容
> 原有数组改变

**`shift`**
> 作用：删除数组中的第一项
> 参数：无
> 返回值：被删除的那一项
> 原有数组改变
 基于shift删除数组中的第一项，删除之后，原有后面每一项的所有向前减一（前进一位）

**`unshift`**
> 作用：向数组开始位置追加内容
> 参数：要增加的内容
> 返回值：新增后数组的长度
> 原有数组改变

**`splice`**
基于splice可以对数组进行很多的操作：删除指定位置的内容、向数组指定位置增加内容、还可以修改指定位置的信息
**`删除：ary.splice(n,m)
> 从索引n开始，删除m个内容，把删除的部分以一个新数组返回，原有数组改变

> ![](https://i.loli.net/2019/08/03/e6cVuyn7NZdrzOK.png)
> 如果不指定m值，或者删除的个数大于最大长度，都是删除到数组的末尾

**`新增：ary.splice(n,0,x,.....)`**
> 从索引n开始删除0项（没删除），把x或者更多需要插入的内容存放到数组中索引n的前面
> ![](https://i.loli.net/2019/08/03/xv3ztSmuc6ywTgl.png)
> 没有删除，所以返回的是空数组

**`修改ary.splice(n,mx,.....)`**
> 修改的原理就是把原有的内容删除掉，热后用新的内容替换这部分删除的内容
> ![](https://i.loli.net/2019/08/03/sFAzTxrM3bhC1LP.png)

`需求扩展：`

###### 1.删除数组最后一项，有几种办法

> ![1561559117076](https://i.loli.net/2019/08/03/6woIglKR3f1xErX.png)
>

###### 2.向数组末尾追加新的内容，你有几种办法

> ```javascript
> ary.push(100);
> ary.splice(ary.length,0,100)
> ary[ary.length]=300
> ```
>
> ![1561559649265](https://i.loli.net/2019/08/03/tvyr3BzGe2fpT6Q.png)
>
> 

##### `slice`

> 作用：在一个数组中，按照条件查找出其中的部分内容
>
> 参数：（n,m）从索引n开始找到索引为m处，但是不包含m
>
> 返回：以一个新数组存储查找的内容
>
> 原有数组不变
>
> ![1561560868924](https://i.loli.net/2019/08/03/PrMYkZISzXBiU97.png)



##### `concat`

> 作用：实现多个数组（或者值）的拼接
>
> 参数：数组或者值
>
> 返回：拼接后的新数组
>
> 原有数组不变
>
> ![1561561668096](https://i.loli.net/2019/08/03/1YiWnHGtZTbhRc8.png)



##### `toString`

> 作用：将数组转换为字符串格式
>
> 参数：无
>
> 返回：数组中的每一项用逗号分隔的字符串
>
> 原有数组不变
>
> ![1561562138559](https://i.loli.net/2019/08/03/d5rES7tklQsGwbW.png)



##### `join`

> 作用：和toString相似，也是把数组转换为字符串，不过可以指定数组中每一项之间的连接符
>
> 参数：指定的连接符
>
> 返回值：以指定的连接符链接的字符串
>
> 原有数组不变
>
> ![1561562471878](https://i.loli.net/2019/08/03/AyF8mPYsi9DxhTf.png)



###### 数组排列

#### `reverse`

> 作用：将数组到过来
>
> 参数：无
>
> 返回值：倒放之后的数组
>
> 原有数组改变：为倒放之后的数组
>
> ![1561562845708](https://i.loli.net/2019/08/03/YATFdhKo1w2kzBu.png)



##### `sort`

> 作用：将无顺序数组进行排列
>
> 参数：无/函数
>
> 返回值：排序后的新数组
>
> 原有数组改变
>
> ![1561563391352](https://i.loli.net/2019/08/03/qQMUBixwaV9jlsK.png)
>
> #### 在真实项目中，基于sort排序，我们都需要传递参数
>
> ```javascript
> var ary = [1,9,19,23,12,15];
> ary.sort(function (a,b){
>     return b-a;// 降序   return b-a 升序  
> })
> var ary = [23, 19, 15, 12, 9, 1]
> ```



##### `indexOf  lastIndexOf`

> 这两个方法不兼容IE6~8
>
> 作用：检测当前值在数组中第一次或者最后一次出现位置的索引
>
> 参数：要检测的值
>
> 返回：索引
>
> 原有数组不会改变
>
> ![1561564519388](https://i.loli.net/2019/08/03/dsAI3vSZ6JcRMnO.png)
>
> 
>
> ```javascript
> //验证数组中是否包含某一项
>
> if(ary.indexOf(100)>-1){
> 	//如果值大于-1，则表示当前数组中包含这项内容（100）;   
>    }
> ```



##### 扩展：数组中还包含很多方法（Array.prototype）

   以下基于回调函数使用的方法：

- every
- filter
- find
- forEach
- includes
- keys
- map
- reduce/reduceRight
- some
- ...



### 数组去重

> ```javascript
> var ary = [1,2,3,4,1,2,5,4];
> //解决方案：
> /**
> 	1，依次拿出数组中的每一项（最后一项不需要，最后一项不需要进行比较了）
> 	2，和当前拿出项后面的每一项依次比较
> 	3，如果发现有重复的，我们把找到的重复项在原有数组中删除（splice）
> **/
>
> for(var i = 0;i < ary.length-1; i++){
>     var itme = ary[i];
>     for(var j = i+1; j < ary.length;i++){
>         if (itme === ary[j]){
>             //如果相等，就删除原有数组中的k项
>             ary.splice(j,1);
>             /**
>               这样做会导致数组塌陷问题：当我们把当前项删除后，后面每一项都要向前进一位，也就是原有数组的索引改变了，此时我们j继续累加1，下一次再拿出来的结果就会跳一位
>             **/
>             j--;
>         }
> 	}
> }
> //但是再实际项目中：双循环的方式比较消耗性能，不推荐使用
> ```
>
> ##### `基于对象的属性名不能重复，我们实现高性能的数组去重`
>
> ```javascript
> var ary = [1,2,3,2,2,3,4,3,4,5];
> var obj = {};
> for(var i = 0;i < ary.length-1; i++){
>     var itme = ary [i];
>     if (typeof obj[itme] !== 'undefind'){
>         ary[i] = ary[ary.length - 1];
>         ary.length--;
>         i--;
>         continue;
>     }
>     obj[itme] = itme;
> }
> console.log(ary);
> // 1.创建一个空对象
> // 2.依次遍历数组中的每一项，把每一项存储的值，当作对象的属性名和属性值存储起来
> /*
>  	第一次循环 1 {1:1}
>  	第二次循环 2 {1:1,2:2}
>  	第三次循环 3 {1:1,2:2,3:3}
>  	第四次循环 2 {1:1,2:2,3:3,2:2}  出现重复项
>  	我们再存储之前做一个判断，判断当前对象中是否已经存在这个属性名了，如果存在，说明之前有这一项存储的操作，进一步说明之前数组中出现过这个数值了（也就是重复了，此时我们把当前项在数组中移除即可）
> */
>
> ```

